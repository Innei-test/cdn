(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{"53lW":function(t,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/posts",function(){return a("XCPh")}])},Gbxs:function(t,e,a){t.exports={head:"PostBlock_head__38-FT",title:"PostBlock_title__18Obo",text:"PostBlock_text__Gsfei",btn:"PostBlock_btn__2551h","gradual-change":"PostBlock_gradual-change__20O60",navigator:"PostBlock_navigator__25BE6"}},MaJT:function(t,e,a){"use strict";a.d(e,"a",(function(){return d}));var o=a("rePB"),r=a("Ff2n"),n=a("q1tI"),c=a.n(n),s=a("ffb8"),i=a("F/y2"),l=a("WYo3"),u=a("TyAF"),p=c.a.createElement;function b(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}var d=Object(u.c)(t=>{var{title:e}=t,a=Object(r.a)(t,["title"]),{appStore:n}=Object(l.c)();return p(s.NextSeo,function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?b(Object(a),!0).forEach((function(e){Object(o.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({title:e+" - "+(i.a.title||n.title)},a))})},XCPh:function(t,e,a){"use strict";a.r(e),a.d(e,"default",(function(){return k}));var o,r=a("q1tI"),n=a.n(r),c=a("wHSu"),s=a("IP2g"),i=a("TSYQ"),l=a.n(i),u=a("TyAF"),p=a("nOHt"),b=a.n(p),d=a("tcEi"),g=a.n(d),O=a("eSIs"),v=a("Gbxs"),f=a.n(v),m=n.a.createElement,w=Object(u.b)(t=>({viewport:t.appStore.viewport,map:t.categoryStore.CategoryMap}))(o=Object(u.c)(o=class extends n.a.Component{render(){var{date:t,title:e,text:a,slug:o,viewport:r,raw:c}=this.props,s=(null===r||void 0===r?void 0:r.mobile)?Object(O.a)(t,"MM-DD ddd"):Object(O.a)(t,"YYYY-MM-DD ddd"),[i,u]=s.split(" "),p=()=>{var t,e=null===(t=this.props.map)||void 0===t?void 0:t.get(c.categoryId);b.a.push("/posts/[category]/[slug]","/posts/".concat(e,"/").concat(o)),window.scrollTo({left:0,top:0,behavior:"smooth"})};return m(n.a.Fragment,null,m("h1",{className:f.a.head},i,m("small",null,"\uff08",u,"\uff09"),!(null===r||void 0===r?void 0:r.mobile)&&m("div",{className:f.a.title,onClick:p},e)),m("div",{className:l()("note-item",f.a.text)},(null===r||void 0===r?void 0:r.mobile)&&m("h2",{className:f.a.title,onClick:p},e),m("article",{className:"note-content"},g()(a).slice(0,250)+".."),m("section",{className:f.a.navigator},m("button",{className:f.a.btn,onClick:p},"\u67e5\u770b\u539f\u6587"))))}})||o)||o,j=a("AauJ"),y=a("WYo3"),h=a("AoAR"),P=a("MaJT"),_=n.a.createElement;function k(t){var{posts:e,page:a}=t,o=Object(y.c)();Object(r.useEffect)(()=>{o.categoryStore.fetchCategory()});var n=Object(p.useRouter)(),{0:i,1:l}=Object(r.useState)(e),{0:u,1:b}=Object(r.useState)(!1),{0:d,1:g}=Object(r.useState)(a);return _(j.a,null,_(P.a,{title:"\u535a\u6587"}),_("article",{className:"paul-note"},i.map(t=>{var{slug:e,text:a,created:o,title:r,_id:n}=t;return _(w,{title:r,date:o,key:n,text:a,slug:e,raw:t})})),d.hasNextPage&&_("section",{className:"paul-more"},_("button",{className:"btn brown",onClick:()=>(async()=>{b(!0);var t=d.currentPage,{data:e,page:a}=await Object(h.a)("Post").gets({page:t+1});l(i.concat(e)),g(a),n.push("/posts/index",{pathname:"posts",query:{page:t+1}},{shallow:!0}),b(!1)})()},u?_(s.a,{icon:c.u}):"\u4e0b\u4e00\u9875")))}k.getInitialProps=async t=>{var{page:e,year:a}=t.query,o=await Object(h.a)("Post","").gets({page:e||1,year:parseInt(a)||void 0});return{page:o.page,posts:o.data}}}},[["53lW",0,1,5,3,8,2,4,6,7,9,10,11,13,16]]]);