(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{"53lW":function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/posts",function(){return n("XCPh")}])},Gbxs:function(t,e,n){t.exports={head:"PostBlock_head__38-FT",title:"PostBlock_title__18Obo",text:"PostBlock_text__Gsfei",btn:"PostBlock_btn__2551h","gradual-change":"PostBlock_gradual-change__20O60",navigator:"PostBlock_navigator__25BE6"}},JX7q:function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",(function(){return r}))},Ji7U:function(t,e,n){"use strict";function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}n.d(e,"a",(function(){return o}))},MaJT:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var r=n("rePB"),o=n("Ff2n"),a=n("q1tI"),c=n.n(a),u=n("ffb8"),i=n("F/y2"),s=n("WYo3"),l=n("TyAF"),f=c.a.createElement;function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var b=Object(l.c)((function(t){var e=t.title,n=Object(o.a)(t,["title"]),a=Object(s.c)().appStore;return f(u.NextSeo,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({title:e+" - "+(i.a.title||a.title)},n))}))},ODXe:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("BsWD");function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,a=void 0;try{for(var c,u=t[Symbol.iterator]();!(r=(c=u.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(i){o=!0,a=i}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return n}}(t,e)||Object(r.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},U8pU:function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.d(e,"a",(function(){return r}))},XCPh:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return C}));var r,o=n("o0o1"),a=n.n(o),c=n("q1tI"),u=n.n(c),i=n("wHSu"),s=n("IP2g"),l=n("ODXe"),f=n("1OyB"),p=n("vuIU"),b=n("Ji7U"),y=n("md7G"),d=n("foSv"),O=n("TSYQ"),v=n.n(O),m=n("TyAF"),h=n("nOHt"),g=n.n(h),j=n("tcEi"),w=n.n(j),_=n("eSIs"),P=n("Gbxs"),S=n.n(P),x=u.a.createElement;function k(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var N=Object(m.b)((function(t){return{viewport:t.appStore.viewport,map:t.categoryStore.CategoryMap}}))(r=Object(m.c)(r=function(t){Object(b.a)(r,t);var e,n=(e=r,function(){var t,n=Object(d.a)(e);if(k()){var r=Object(d.a)(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Object(y.a)(this,t)});function r(){return Object(f.a)(this,r),n.apply(this,arguments)}return Object(p.a)(r,[{key:"render",value:function(){var t=this,e=this.props,n=e.date,r=e.title,o=e.text,a=e.slug,c=e.viewport,i=e.raw,s=((null===c||void 0===c?void 0:c.mobile)?Object(_.a)(n,"MM-DD ddd"):Object(_.a)(n,"YYYY-MM-DD ddd")).split(" "),f=Object(l.a)(s,2),p=f[0],b=f[1],y=function(){var e,n=null===(e=t.props.map)||void 0===e?void 0:e.get(i.categoryId);g.a.push("/posts/[category]/[slug]","/posts/".concat(n,"/").concat(a)),window.scrollTo({left:0,top:0,behavior:"smooth"})};return x(u.a.Fragment,null,x("h1",{className:S.a.head},p,x("small",null,"\uff08",b,"\uff09"),!(null===c||void 0===c?void 0:c.mobile)&&x("div",{className:S.a.title,onClick:y},r)),x("div",{className:v()("note-item",S.a.text)},(null===c||void 0===c?void 0:c.mobile)&&x("h2",{className:S.a.title,onClick:y},r),x("article",{className:"note-content"},w()(o).slice(0,250)+".."),x("section",{className:S.a.navigator},x("button",{className:S.a.btn,onClick:y},"\u67e5\u770b\u539f\u6587"))))}}]),r}(u.a.Component))||r)||r,D=n("AauJ"),E=n("WYo3"),T=n("AoAR"),B=n("MaJT"),I=u.a.createElement;function C(t){var e=t.posts,n=t.page,r=Object(E.c)();Object(c.useEffect)((function(){r.categoryStore.fetchCategory()}));var o=Object(h.useRouter)(),u=Object(c.useState)(e),l=u[0],f=u[1],p=Object(c.useState)(!1),b=p[0],y=p[1],d=Object(c.useState)(n),O=d[0],v=d[1];return I(D.a,null,I(B.a,{title:"\u535a\u6587"}),I("article",{className:"paul-note"},l.map((function(t){var e=t.slug,n=t.text,r=t.created,o=t.title,a=t._id;return I(N,{title:o,date:r,key:a,text:n,slug:e,raw:t})}))),O.hasNextPage&&I("section",{className:"paul-more"},I("button",{className:"btn brown",onClick:function(){return function(){var t,e,n,r;return a.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return y(!0),t=O.currentPage,c.next=4,a.a.awrap(Object(T.a)("Post").gets({page:t+1}));case 4:e=c.sent,n=e.data,r=e.page,f(l.concat(n)),v(r),o.push("/posts/index",{pathname:"posts",query:{page:t+1}},{shallow:!0}),y(!1);case 11:case"end":return c.stop()}}),null,null,null,Promise)}()}},b?I(s.a,{icon:i.u}):"\u4e0b\u4e00\u9875")))}C.getInitialProps=function(t){var e,n,r,o;return a.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return e=t.query,n=e.page,r=e.year,c.next=3,a.a.awrap(Object(T.a)("Post","").gets({page:n||1,year:parseInt(r)||void 0}));case 3:return o=c.sent,c.abrupt("return",{page:o.page,posts:o.data});case 5:case"end":return c.stop()}}),null,null,null,Promise)}},foSv:function(t,e,n){"use strict";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return r}))},md7G:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("U8pU"),o=n("JX7q");function a(t,e){return!e||"object"!==Object(r.a)(e)&&"function"!==typeof e?Object(o.a)(t):e}}},[["53lW",0,2,6,4,10,1,3,5,7,9,11,8,12,13,15,18]]]);