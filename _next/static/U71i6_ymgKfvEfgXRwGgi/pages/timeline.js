(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{"1Dn4":function(t,e,r){t.exports={"timeline-wrap":"timeline_timeline-wrap__3IU3u"}},"2x5v":function(t,e,r){"use strict";var n=r("QbLZ"),o=r.n(n),a=r("iCc5"),i=r.n(a),c=r("FYw3"),u=r.n(c),s=r("mRg0"),l=r.n(s),p=r("q1tI"),f=r("6y1p"),d=r("TSYQ"),y=r.n(d),h={left:{x:30,opacity:0},right:{x:-30,opacity:0},top:{y:-30,opacity:0},bottom:{y:30,opacity:0},alpha:{opacity:0},scale:{scale:0,opacity:0},scaleBig:{scale:2,opacity:0},scaleX:{opacity:0,scaleX:0},scaleY:{opacity:0,scaleY:0},"mask-bottom":{opacity:0,scale:.8,y:"100%"},"mask-top":{opacity:0,scale:.8,y:"-100%"},flash:{enter:[{opacity:0,type:"from",duration:150},{opacity:0,duration:150},{opacity:1,duration:150}],leave:[{opacity:0,duration:150},{opacity:1,duration:150},{opacity:0,duration:150}]},bounce:{enter:[{opacity:0,type:"set"},{y:-30,opacity:1,duration:300},{y:15,duration:200},{y:-10,duration:200},{y:5,duration:200},{y:0,duration:200}],leave:[{y:5,duration:200},{y:-10,duration:200},{y:15,duration:200},{y:-30,opacity:0,duration:300}]},swing:{enter:[{opacity:0,type:"set"},{x:10,opacity:1,duration:150},{x:-10,duration:150},{x:8,duration:100},{x:-8,duration:100},{x:5,duration:100},{x:-5,duration:100},{x:0,duration:100}],leave:[{x:-5,duration:100},{x:5,duration:100},{x:-8,duration:100},{x:8,duration:100},{x:-10,duration:150},{x:10,opacity:0,duration:150}]},"swing-rotate":{enter:[{opacity:0,transformOrigin:"50% 0",type:"set"},{rotate:30,opacity:1,duration:300},{rotate:-30,duration:300},{rotate:15,duration:200},{rotate:-15,duration:200},{rotate:5,duration:100},{rotate:-5,duration:100},{rotate:0,duration:50}],leave:[{rotate:-5,duration:100},{rotate:5,duration:100},{rotate:-15,duration:200},{rotate:15,duration:200},{rotate:-30,duration:300},{rotate:30,opacity:0,duration:300}]},"swing-y":{enter:[{opacity:0,type:"set"},{y:10,opacity:1,duration:150},{y:-10,duration:150},{y:8,duration:100},{y:-8,duration:100},{y:5,duration:100},{y:-5,duration:100},{y:0,duration:100}],leave:[{y:-5,duration:100},{y:5,duration:100},{y:-8,duration:100},{y:8,duration:100},{y:-10,duration:150},{y:10,opacity:0,duration:150}]}},v=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&(r[n[o]]=t[n[o]])}return r};function m(t,e){return"function"===typeof t?t(e):t}var g=function(t){function e(){i()(this,e);var r=u()(this,t.apply(this,arguments));return r.getChildrenToRender=function(t){if(!t)return[];var e=r.props.split;return(e?e(t):t.split("")).map((function(t,e){return p.createElement("span",{key:t+"-"+e.toString()},t)}))},r.getEnterOrLeave=function(t,e,n){var a=r.props,i=a.mode,c=a.type,u=a.enter,s=a.appear,l=a.interval,p=a.duration;if(!s&&"enter"===e||n<0)return null;var f=o()({},t,{type:e}),d=m(p,f),y=m(l,f),v=void 0;if("function"===typeof l)v=y;else switch(i){case"reverse":v=(n-t.index)*y;break;case"sync":v=0;break;case"random":v=n*y*Math.random();break;default:v=t.index*y}v+=m(r.props.delay,f);var g="enter"===e?"from":"to",b=r.props[e]||u;return b&&"function"===typeof b?b=b(o()({},t,{delay:v})):b||(b=h[c]),b.enter&&(b=b[e]||b.etner),Array.isArray(b)?b.map((function(t,e){return e||t.duration&&"set"!==t.type?1!==e||b[0].duration&&"set"!==t.type?o()({delay:e?0:v},t):o()({delay:v},t):t})):o()({delay:v,duration:d,type:g},b)},r}return l()(e,t),e.prototype.render=function(){var t,e=this,r=this.props,n=r.prefixCls,a=r.type,i=r.className,c=r.enter,u=(r.mode,r.duration,r.delay,r.interval,r.children),s=(r.split,v(r,["prefixCls","type","className","enter","mode","duration","delay","interval","children","split"])),l=this.getChildrenToRender(u),d=y()(n,((t={})[a]=a&&!c,t[i]=!!i,t));return p.createElement(f.a,o()({},s,{className:d,enter:function(t){return e.getEnterOrLeave(t,"enter",l.length-1)},leave:function(t){return e.getEnterOrLeave(t,"leave",e.tweenGrooup.keysToLeave.length-1)},ref:function(t){e.tweenGrooup=t}}),l)},e}(p.Component),b=g;g.defaultProps={type:"top",mode:"smooth",prefixCls:"texty",component:"div",delay:0,interval:50,appear:!0};e.a=b},AauJ:function(t,e,r){"use strict";r.d(e,"a",(function(){return u}));var n=r("q1tI"),o=r.n(n),a=r("2x5v"),i=r("0Xwh"),c=o.a.createElement,u=Object(n.forwardRef)((function(t,e){var r=t.children,n=t.title,o=t.subtitle;return c("main",{className:"is-article"},n&&c("section",{className:"post-title"},c("h1",null,c(a.a,{type:"bottom",mode:"smooth"},n)),o&&c("h2",null,c(a.a,{type:"bottom",mode:"smooth",delay:500},o))),c(i.a,{delay:500,duration:500,animConfig:{opacity:[1,0],translateY:[0,50]}},c("article",{className:"post-content paul-note",key:"a"},r)))}))},MaJT:function(t,e,r){"use strict";r.d(e,"a",(function(){return d}));var n=r("rePB"),o=r("Ff2n"),a=r("q1tI"),i=r.n(a),c=r("ffb8"),u=r("F/y2"),s=r("WYo3"),l=r("TyAF"),p=i.a.createElement;function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}var d=Object(l.c)((function(t){var e=t.title,r=Object(o.a)(t,["title"]),a=Object(s.c)().appStore;return p(c.NextSeo,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach((function(e){Object(n.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({title:e+" - "+(u.a.title||a.title)},r))}))},ODXe:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var n=r("BsWD");function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(u){o=!0,a=u}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return r}}(t,e)||Object(n.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},PJ1c:function(t,e,r){"use strict";var n=r("0Xwh");r.d(e,"a",(function(){return n.a}));r("2x5v")},YFqc:function(t,e,r){t.exports=r("cTJO")},cTJO:function(t,e,r){"use strict";var n=r("/GRZ"),o=r("i2R6"),a=r("48fX"),i=r("tCBg"),c=r("T0f4");function u(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var s=r("AroE"),l=r("7KCV");e.__esModule=!0,e.default=void 0;var p,f=l(r("q1tI")),d=r("QmWs"),y=r("g/15"),h=s(r("nOHt")),v=r("elyg");function m(t){return t&&"object"===typeof t?(0,y.formatWithValidation)(t):t}var g=new Map,b=window.IntersectionObserver,O={};function w(){return p||(b?p=new b((function(t){t.forEach((function(t){if(g.has(t.target)){var e=g.get(t.target);(t.isIntersecting||t.intersectionRatio>0)&&(p.unobserve(t.target),g.delete(t.target),e())}}))}),{rootMargin:"200px"}):void 0)}var j=function(t){a(s,t);var e,r=(e=s,function(){var t,r=c(e);if(u()){var n=c(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return i(this,t)});function s(t){var e;return n(this,s),(e=r.call(this,t)).p=void 0,e.cleanUpListeners=function(){},e.formatUrls=function(t){var e=null,r=null,n=null;return function(o,a){if(n&&o===e&&a===r)return n;var i=t(o,a);return e=o,r=a,n=i,i}}((function(t,e){return{href:(0,v.addBasePath)(m(t)),as:e?(0,v.addBasePath)(m(e)):e}})),e.linkClicked=function(t){var r=t.currentTarget,n=r.nodeName,o=r.target;if("A"!==n||!(o&&"_self"!==o||t.metaKey||t.ctrlKey||t.shiftKey||t.nativeEvent&&2===t.nativeEvent.which)){var a=e.formatUrls(e.props.href,e.props.as),i=a.href,c=a.as;if(function(t){var e=(0,d.parse)(t,!1,!0),r=(0,d.parse)((0,y.getLocationOrigin)(),!1,!0);return!e.host||e.protocol===r.protocol&&e.host===r.host}(i)){var u=window.location.pathname;i=(0,d.resolve)(u,i),c=c?(0,d.resolve)(u,c):i,t.preventDefault();var s=e.props.scroll;null==s&&(s=c.indexOf("#")<0),h.default[e.props.replace?"replace":"push"](i,c,{shallow:e.props.shallow}).then((function(t){t&&s&&(window.scrollTo(0,0),document.body.focus())}))}}},e.p=!1!==t.prefetch,e}return o(s,[{key:"componentWillUnmount",value:function(){this.cleanUpListeners()}},{key:"getPaths",value:function(){var t=window.location.pathname,e=this.formatUrls(this.props.href,this.props.as),r=e.href,n=e.as,o=(0,d.resolve)(t,r);return[o,n?(0,d.resolve)(t,n):o]}},{key:"handleRef",value:function(t){var e=this;this.p&&b&&t&&t.tagName&&(this.cleanUpListeners(),O[this.getPaths().join("%")]||(this.cleanUpListeners=function(t,e){var r=w();return r?(r.observe(t),g.set(t,e),function(){try{r.unobserve(t)}catch(e){console.error(e)}g.delete(t)}):function(){}}(t,(function(){e.prefetch()}))))}},{key:"prefetch",value:function(t){if(this.p){var e=this.getPaths();h.default.prefetch(e[0],e[1],t).catch((function(t){0})),O[e.join("%")]=!0}}},{key:"render",value:function(){var t=this,e=this.props.children,r=this.formatUrls(this.props.href,this.props.as),n=r.href,o=r.as;"string"===typeof e&&(e=f.default.createElement("a",null,e));var a=f.Children.only(e),i={ref:function(e){t.handleRef(e),a&&"object"===typeof a&&a.ref&&("function"===typeof a.ref?a.ref(e):"object"===typeof a.ref&&(a.ref.current=e))},onMouseEnter:function(e){a.props&&"function"===typeof a.props.onMouseEnter&&a.props.onMouseEnter(e),t.prefetch({priority:!0})},onClick:function(e){a.props&&"function"===typeof a.props.onClick&&a.props.onClick(e),e.defaultPrevented||t.linkClicked(e)}};return!this.props.passHref&&("a"!==a.type||"href"in a.props)||(i.href=o||n),f.default.cloneElement(a,i)}}]),s}(f.Component);e.default=j},dtwg:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/timeline",function(){return r("e8dl")}])},e8dl:function(t,e,r){"use strict";r.r(e);var n,o=r("o0o1"),a=r.n(o),i=r("rePB"),c=r("ODXe"),u=r("q1tI"),s=r.n(u),l=r("YFqc"),p=r.n(l),f=r("PJ1c"),d=r("MaJT"),y=r("AauJ"),h=r("AoAR"),v=r("1Dn4"),m=r.n(v),g=s.a.createElement;function b(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function O(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?b(Object(r),!0).forEach((function(e){Object(i.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}!function(t){t[t.Post=0]="Post",t[t.Note=1]="Note"}(n||(n={}));var w=function(t){var e=new Map,r=Object(u.useState)(new Map),o=r[0],a=r[1],i=t.posts,s=t.notes,l=function t(r){var n,o=r+1,a=null===(n=e.get(o))||void 0===n?void 0:n.length;return a?100*a+t(o):0};return i.forEach((function(t){var r=new Date(t.created),o=r.getFullYear(),a={title:t.title,meta:[t.category.name,"\u535a\u6587"],date:r,as:"/posts/".concat(t.category.slug,"/").concat(t.slug),href:"/posts/[category]/[slug]",type:n.Post};e.set(o,e.get(o)?e.get(o).concat(a):[a])})),s.forEach((function(t){var r=new Date(t.created),o=r.getFullYear(),a={title:t.title,meta:["\u8fd9\u5929\u7684\u5fc3\u60c5: "+(t.mood||"\u4e00\u822c"),t.weather?"\u8fd9\u5929\u7684\u5929\u6c14: "+t.weather:void 0,"\u968f\u8bb0"].filter((function(t){return t})),date:r,as:"/notes/".concat(t.nid),href:"/notes/[id]",type:n.Note};e.set(o,e.get(o)?e.get(o).concat(a):[a])})),e.forEach((function(t,r){e.set(r,t.sort((function(t,e){return e.date.getTime()-t.date.getTime()})))})),Object(u.useEffect)((function(){o.size||a(e)}),[o]),g(y.a,{title:"\u65f6\u95f4\u7ebf",subtitle:"\u5171\u6709".concat(i.length+s.length,"\u7bc7\u6587\u7ae0, \u518d\u63a5\u518d\u5389")},g(d.a,{title:"\u65f6\u95f4\u7ebf"}),Array.from(o).reverse().map((function(t,e){var r=Object(c.a)(t,2),n=r[0],o=r[1];return g("article",{className:"post-content paul-note article-list",key:n},g("div",{className:"note-item"},g(f.a,{delay:l(n),type:"bottom"},g("h1",{key:1},n)),g("ul",{className:m.a["timeline-wrap"]},o.map((function(t,r){return g(f.a,{type:"bottom",key:r,delay:l(n)+100*r},g("li",{key:r*e},g(p.a,{href:t.href,as:t.as},g("a",null,g("span",{className:"date"},(t.date.getMonth()+1).toString().padStart(2,"0"),"/",t.date.getDate().toString().padStart(2,"0")),g("span",{className:"title"},t.title))),g("span",{className:"meta"},t.meta.map((function(t,e){return 0===e?t:"/"+t})))))})))))})))};w.getInitialProps=function(){var t;return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(Object(h.a)("Aggregate").get("timeline"));case 2:return t=e.sent,e.abrupt("return",O({},(null===t||void 0===t?void 0:t.data)||{}));case 4:case"end":return e.stop()}}),null,null,null,Promise)},e.default=w}},[["dtwg",0,2,6,4,10,1,3,5,7,9,11,8,12,13]]]);